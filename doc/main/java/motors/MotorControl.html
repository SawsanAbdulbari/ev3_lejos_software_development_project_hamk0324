<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Apr 07 20:34:49 EEST 2024 -->
<title>MotorControl</title>
<meta name="date" content="2024-04-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MotorControl";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MotorControl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?main/java/motors/MotorControl.html" target="_top">Frames</a></li>
<li><a href="MotorControl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">main.java.motors</div>
<h2 title="Class MotorControl" class="title">Class MotorControl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>main.java.motors.MotorControl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MotorControl</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">The MotorControl class is responsible for the direct control of the motors attached to an EV3 robot, 
 facilitating both basic and complex movement patterns. It implements a PID controller to adjust the 
 robot's speed and direction dynamically based on sensor feedback, aiming to achieve precise navigation. 
 This class also includes methods for obstacle avoidance, making use of sensor data to alter the robot's path 
 when necessary. It is designed to run on a separate thread to continuously monitor and adjust the robot's movement 
 as needed based on the current environment and objectives.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>2.0</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../data/Config.html" title="class in data">Config</a></code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#config">config</a></strong></code>
<div class="block">Shared configuration object with settings and sensor values</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#derivative">derivative</a></strong></code>
<div class="block">Rate of change of error</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#error">error</a></strong></code>
<div class="block">Current error</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#i">i</a></strong></code>
<div class="block">A counter for obstacle handling</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#integral">integral</a></strong></code>
<div class="block">Accumulated error over time</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#lastError">lastError</a></strong></code>
<div class="block">The previous error value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private EV3LargeRegulatedMotor</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#leftMotor">leftMotor</a></strong></code>
<div class="block">Motor controller for the left wheel</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#leftSpeed">leftSpeed</a></strong></code>
<div class="block">Speed adjustment for left motor</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#PIDsum">PIDsum</a></strong></code>
<div class="block">Output of PID calculation</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private EV3LargeRegulatedMotor</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#rightMotor">rightMotor</a></strong></code>
<div class="block">Motor controller for the right wheel</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#rightSpeed">rightSpeed</a></strong></code>
<div class="block">Speed adjustment for right motor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../main/java/motors/MotorControl.html#MotorControl(data.Config)">MotorControl</a></strong>(<a href="../../../data/Config.html" title="class in data">Config</a>&nbsp;config)</code>
<div class="block">Initializes a new instance of the MotorControl class, setting up the motors and storing the configuration.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#adjustMotorsSpeed(float,%20float,%20boolean)">adjustMotorsSpeed</a></strong>(float&nbsp;leftSpeed,
                 float&nbsp;rightSpeed,
                 boolean&nbsp;reverse)</code>
<div class="block">Adjusts the speed and direction of the motors based on the given parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#closeMotors()">closeMotors</a></strong>()</code>
<div class="block">Closes the motor ports, effectively disabling the motors.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#handleObjectAvoidance()">handleObjectAvoidance</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#run()">run</a></strong>()</code>
<div class="block">The entry point for the MotorControl thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#stop()">stop</a></strong>()</code>
<div class="block">Stops both motors immediately.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../main/java/motors/MotorControl.html#turn()">turn</a></strong>()</code>
<div class="block">Implements a PID control strategy to adjust the robot's movement based on sensor feedback.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="config">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>config</h4>
<pre>private&nbsp;<a href="../../../data/Config.html" title="class in data">Config</a> config</pre>
<div class="block">Shared configuration object with settings and sensor values</div>
</li>
</ul>
<a name="leftMotor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leftMotor</h4>
<pre>private&nbsp;EV3LargeRegulatedMotor leftMotor</pre>
<div class="block">Motor controller for the left wheel</div>
</li>
</ul>
<a name="rightMotor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rightMotor</h4>
<pre>private&nbsp;EV3LargeRegulatedMotor rightMotor</pre>
<div class="block">Motor controller for the right wheel</div>
</li>
</ul>
<a name="lastError">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastError</h4>
<pre>private&nbsp;float lastError</pre>
<div class="block">The previous error value</div>
</li>
</ul>
<a name="integral">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>integral</h4>
<pre>private&nbsp;float integral</pre>
<div class="block">Accumulated error over time</div>
</li>
</ul>
<a name="error">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>error</h4>
<pre>private&nbsp;float error</pre>
<div class="block">Current error</div>
</li>
</ul>
<a name="derivative">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>derivative</h4>
<pre>private&nbsp;float derivative</pre>
<div class="block">Rate of change of error</div>
</li>
</ul>
<a name="PIDsum">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PIDsum</h4>
<pre>private&nbsp;float PIDsum</pre>
<div class="block">Output of PID calculation</div>
</li>
</ul>
<a name="leftSpeed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leftSpeed</h4>
<pre>private&nbsp;float leftSpeed</pre>
<div class="block">Speed adjustment for left motor</div>
</li>
</ul>
<a name="rightSpeed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rightSpeed</h4>
<pre>private&nbsp;float rightSpeed</pre>
<div class="block">Speed adjustment for right motor</div>
</li>
</ul>
<a name="i">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>i</h4>
<pre>public static&nbsp;int i</pre>
<div class="block">A counter for obstacle handling</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MotorControl(data.Config)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MotorControl</h4>
<pre>public&nbsp;MotorControl(<a href="../../../data/Config.html" title="class in data">Config</a>&nbsp;config)</pre>
<div class="block">Initializes a new instance of the MotorControl class, setting up the motors and storing the configuration.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>config</code> - The configuration object containing operational parameters and sensor thresholds.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">The entry point for the MotorControl thread. Waits for initial calibration to complete, then enters
 a loop where it continuously checks sensor values and adjusts motor speeds accordingly to navigate the robot.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="turn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>turn</h4>
<pre>public&nbsp;void&nbsp;turn()</pre>
<div class="block">Implements a PID control strategy to adjust the robot's movement based on sensor feedback.
 This method calculates the necessary adjustments to the motor speeds for turning and straight movement,
 aiming to maintain the desired trajectory.</div>
</li>
</ul>
<a name="handleObjectAvoidance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleObjectAvoidance</h4>
<pre>private&nbsp;void&nbsp;handleObjectAvoidance()</pre>
</li>
</ul>
<a name="adjustMotorsSpeed(float, float, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustMotorsSpeed</h4>
<pre>private&nbsp;void&nbsp;adjustMotorsSpeed(float&nbsp;leftSpeed,
                     float&nbsp;rightSpeed,
                     boolean&nbsp;reverse)</pre>
<div class="block">Adjusts the speed and direction of the motors based on the given parameters. This method can be used to
 set the motors for forward movement, reverse, or turning, depending on the speeds and the reverse flag.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>leftSpeed</code> - The speed for the left motor.</dd><dd><code>rightSpeed</code> - The speed for the right motor.</dd><dd><code>reverse</code> - A flag indicating whether the motors should be set to reverse.</dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops both motors immediately. This is used for emergency stopping or as part of obstacle avoidance.</div>
</li>
</ul>
<a name="closeMotors()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>closeMotors</h4>
<pre>public&nbsp;void&nbsp;closeMotors()</pre>
<div class="block">Closes the motor ports, effectively disabling the motors. This method is called before shutting down
 the program to ensure a graceful termination of motor control.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MotorControl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?main/java/motors/MotorControl.html" target="_top">Frames</a></li>
<li><a href="MotorControl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
